jQuery, $.fn.ideaboxTestimonials = function (n) { return n = $.extend({ width: "100%", autoplay: !0, timer: 3e3, modul: "testimonials", color: "red" }, n), this.each(function () { n.modul = $("#" + $(this).attr("id")); var i = n.modul, e = 0, l = n.modul.find("ul").find("li").length; function t() { ++e > l - 1 && (e = 0), o() } function o() { n.modul.animate({ height: n.modul.children("ul").find("li").eq(e).innerHeight() + 10 }), n.modul.find("ul li").fadeOut(), n.modul.find("ul li").eq(e).fadeIn() } function u() { n.modul.css({ height: n.modul.find("ul").find("li").eq(e).innerHeight() + 10 }) } n.modul.find("ul").addClass("it-" + n.color), n.modul.find("ul").children("li:first").fadeIn(), n.modul.find(".it-navi button").on("click", function () { 0 == $(this).index() ? (--e < 0 && (e = l - 1), o()) : (++e > l - 1 && (e = 0), o()) }), n.autoplay ? (i = setInterval(function () { t() }, n.timer), n.modul.on("mouseenter", function () { clearInterval(i) }), n.modul.on("mouseleave", function () { i = setInterval(function () { t() }, n.timer) })) : clearInterval(i), u(), $(window).on("resize", function () { u() }) }) };